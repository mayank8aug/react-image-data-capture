(this["webpackJsonpreact-image-data-capture-example"]=this["webpackJsonpreact-image-data-capture-example"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);n(4);var r=n(0),a=n.n(r),c=n(1),i=n.n(c),u=n(2),o={position:"relative",display:"inline-block"},l={display:"none"},s={border:"1px solid white",borderRadius:"50%",width:"50px",height:"50px",background:"#f7473587",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",cursor:"pointer"};var f=function(e){var t=e.onCapture,n=e.onError,c=e.width,i=e.userMediaConfig,u=Object(r.useState)(!1),f=u[0],d=u[1],m=Object(r.createRef)(),b=Object(r.createRef)(),p=Object(r.useRef)();Object(r.useEffect)((function(){var e;return navigator.mediaDevices.getUserMedia(i).then((function(t){m.current.srcObject=t,p.current=t.getTracks(),e=setTimeout((function(){return d(!0)}),2e3)})).catch((function(e){n&&n(e)})),function(){e&&clearTimeout(e)}}),[n,i]),Object(r.useEffect)((function(){return function(){p.current&&p.current[0].stop()}}),[]);var g=Object(r.useCallback)((function(){var e=m.current.offsetWidth,n=m.current.offsetHeight,r=[e,n];if(b.current.width=r[0],b.current.height=r[1],b.current.getContext("2d").drawImage(m.current,0,0,e,n),t){var a=b.current.toDataURL("image/webp");b.current.toBlob((function(e){t({blob:e,webP:a,file:new File([a],(new Date).getTime+".png")})}))}}),[t,b,m]);return a.a.createElement("div",{style:o},a.a.createElement("video",{ref:m,autoPlay:!0,width:c}),f&&a.a.createElement(r.Fragment,null,a.a.createElement("div",{style:s,onClick:g}),a.a.createElement("canvas",{style:l,ref:b})))},d=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(r.useCallback)((function(e){console.log(e)}),[]),o=Object(r.useMemo)((function(){return{video:!0}}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{onCapture:function(e){c(e.webP)},onError:i,width:300,userMediaConfig:o}),n&&a.a.createElement("div",null,a.a.createElement("div",null,"Captured Image:"),a.a.createElement("img",{src:n,alt:"captured-img"})))};i.a.render(a.a.createElement(d,null),document.getElementById("root"))},3:function(e,t,n){e.exports=n(11)},4:function(e,t,n){}},[[3,1,2]]]);
//# sourceMappingURL=main.177e288e.chunk.js.map