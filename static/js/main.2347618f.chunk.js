(this["webpackJsonpreact-image-capture-example"]=this["webpackJsonpreact-image-capture-example"]||[]).push([[0],[,,function(e,t,r){e.exports=r(11)},function(e,t,r){},,,,,,,function(e,t,r){},function(e,t,r){"use strict";r.r(t);r(3);var n=r(0),a=r.n(n),c=r(1),i=r.n(c);var o=function(e){var t=e.onCapture,r=e.onError,c=e.width,i=e.userMediaConfig,o=Object(n.useState)(!1),u=o[0],s=o[1],f=Object(n.createRef)(),l=Object(n.createRef)(),m=Object(n.useRef)();Object(n.useEffect)((function(){var e;return navigator.mediaDevices.getUserMedia(i).then((function(t){f.current.srcObject=t,m.current=t.getTracks(),e=setTimeout((function(){return s(!0)}),2e3)})).catch((function(e){console.error("Error: Unable to access camera ::",e),r&&r(e)})),function(){e&&clearTimeout(e)}}),[f,r,i]);var d=Object(n.useCallback)((function(){var e=f.current.offsetWidth,r=f.current.offsetHeight,n=[e,r];if(l.current.width=n[0],l.current.height=n[1],l.current.getContext("2d").drawImage(f.current,0,0,e,r),t){var a=l.current.toDataURL("image/webp");l.current.toBlob((function(e){t({blob:e,webP:a,file:new File([a],(new Date).getTime+".png")})}))}m.current&&m.current[0].stop()}),[t,l,f]);return a.a.createElement("div",{className:"image-container"},a.a.createElement("video",{ref:f,autoPlay:!0,width:c}),u&&a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"capture-btn",onClick:d}),a.a.createElement("canvas",{className:"image-canvas",ref:l})))},u=(r(10),function(){return a.a.createElement(o,{onCapture:function(e){},onError:function(e){},width:300,userMediaConfig:{video:!0}})});i.a.render(a.a.createElement(u,null),document.getElementById("root"))}],[[2,1,2]]]);
//# sourceMappingURL=main.2347618f.chunk.js.map