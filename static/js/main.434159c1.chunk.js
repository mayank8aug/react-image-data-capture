(this["webpackJsonpreact-image-capture-example"]=this["webpackJsonpreact-image-capture-example"]||[]).push([[0],[,,,function(e,t,r){e.exports=r(12)},function(e,t,r){},,,,,,,function(e,t,r){},function(e,t,r){"use strict";r.r(t);r(4);var n=r(0),a=r.n(n),c=r(1),o=r.n(c),i=r(2);var u=function(e){var t=e.onCapture,r=e.onError,c=e.width,o=e.userMediaConfig,u=Object(n.useState)(!1),s=Object(i.a)(u,2),f=s[0],l=s[1],m=Object(n.createRef)(),b=Object(n.createRef)(),d=Object(n.useRef)();Object(n.useEffect)((function(){var e;return navigator.mediaDevices.getUserMedia(o).then((function(t){m.current.srcObject=t,d.current=t.getTracks(),e=setTimeout((function(){return l(!0)}),2e3)})).catch((function(e){console.error("Error: Unable to access camera ::",e),r&&r(e)})),function(){e&&clearTimeout(e)}}),[m,r,o]);var g=Object(n.useCallback)((function(){var e=m.current.offsetWidth,r=m.current.offsetHeight,n=[e,r];if(b.current.width=n[0],b.current.height=n[1],b.current.getContext("2d").drawImage(m.current,0,0,e,r),t){var a=b.current.toDataURL("image/webp");b.current.toBlob((function(e){t({blob:e,webP:a,file:new File([a],"".concat((new Date).getTime,".png"))})}))}d.current&&d.current[0].stop()}),[t,b,m]);return a.a.createElement("div",{className:"image-container"},a.a.createElement("video",{ref:m,autoPlay:!0,width:c}),f&&a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"capture-btn",onClick:g}),a.a.createElement("canvas",{className:"image-canvas",ref:b})))},s=(r(11),function(){return a.a.createElement(u,{onCapture:function(e){},onError:function(e){},width:300,userMediaConfig:{video:!0}})});o.a.render(a.a.createElement(s,null),document.getElementById("root"))}],[[3,1,2]]]);
//# sourceMappingURL=main.434159c1.chunk.js.map