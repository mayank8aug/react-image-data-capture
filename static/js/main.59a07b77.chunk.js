(this["webpackJsonpreact-image-capture-example"]=this["webpackJsonpreact-image-capture-example"]||[]).push([[0],{11:function(e,t,r){"use strict";r.r(t);r(4);var n=r(0),a=r.n(n),c=r(1),o=r.n(c),i=r(2),u={position:"relative",display:"inline-block"},l={display:"none"},s={border:"1px solid white",borderRadius:"50%",width:"50px",height:"50px",background:"#f7473587",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",cursor:"pointer"};var f=function(e){var t=e.onCapture,r=e.onError,c=e.width,o=e.userMediaConfig,f=Object(n.useState)(!1),d=Object(i.a)(f,2),p=d[0],b=d[1],m=Object(n.createRef)(),g=Object(n.createRef)(),h=Object(n.useRef)();Object(n.useEffect)((function(){var e;return navigator.mediaDevices.getUserMedia(o).then((function(t){m.current.srcObject=t,h.current=t.getTracks(),e=setTimeout((function(){return b(!0)}),2e3)})).catch((function(e){console.error("Error: Unable to access camera ::",e),r&&r(e)})),function(){e&&clearTimeout(e)}}),[m,r,o]);var v=Object(n.useCallback)((function(){var e=m.current.offsetWidth,r=m.current.offsetHeight,n=[e,r];if(g.current.width=n[0],g.current.height=n[1],g.current.getContext("2d").drawImage(m.current,0,0,e,r),t){var a=g.current.toDataURL("image/webp");g.current.toBlob((function(e){t({blob:e,webP:a,file:new File([a],"".concat((new Date).getTime,".png"))})}))}h.current&&h.current[0].stop()}),[t,g,m]);return a.a.createElement("div",{style:u},a.a.createElement("video",{ref:m,autoPlay:!0,width:c}),p&&a.a.createElement(n.Fragment,null,a.a.createElement("div",{style:s,onClick:v}),a.a.createElement("canvas",{style:l,ref:g})))},d=function(){return a.a.createElement(f,{onCapture:function(e){console.log(e)},onError:function(e){console.log(e)},width:300,userMediaConfig:{video:!0}})};o.a.render(a.a.createElement(d,null),document.getElementById("root"))},3:function(e,t,r){e.exports=r(11)},4:function(e,t,r){}},[[3,1,2]]]);
//# sourceMappingURL=main.59a07b77.chunk.js.map